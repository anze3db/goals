<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Goals</title>
        <meta charset="UTF-8" />
        <meta name="description" content="Goals" />
        <meta name="keywords" content="Goals" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
        <meta name="msapplication-TileColor" content="#da532c" />
        <meta name="theme-color" content="#ffffff" />
        <link rel="stylesheet"
              href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css"/>
        <link rel="stylesheet" href="/style.css"/>
    </head>
    <body>
        <main class="container">
            {% block content %}
            {% endblock content %}
        </main>
        <dialog id="modal">
            <article>
                <a href="#close"
                   aria-label="Close"
                   class="close"
                   data-target="modal"
                   onClick="toggleModal(event)"></a>
                <div id="dialog"></div>
            </article>
        </dialog>
        <script src="/modal.js"></script>
        <script src="https://unpkg.com/htmx.org@1.8.5"
                integrity="sha384-7aHh9lqPYGYZ7sTHvzP1t3BAfLhYSTy9ArHdP3Xsr9/3TlGurYgcPBoFmXX2TX/w"
                crossorigin="anonymous"></script>
        <script>
            document.body.addEventListener('htmx:configRequest', (event) => {
                event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
            })
        </script>
        <script>
            const modal = document.getElementById("modal")
            htmx.on("htmx:afterSwap", (e) => {
                // Response targeting #dialog => show the modal
                if (e.detail.target.id == "dialog") {
                    openModal(modal);
                }
            })
        </script>
    </body>
</html>
